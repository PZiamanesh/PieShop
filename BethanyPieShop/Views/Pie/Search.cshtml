<br/>
<br/>
<br/>
<br/>
Enter your search query:
<input id="txtPieName" type="text"/>
<button id="searchButton">Search</button>
<br/>
<br/>
<table id="tblPies" class="table table-striped table-hover">
    <thead>
        <tr class="table-danger">
            <th style="width: 120px"></th>
            <th style="width: 120px">Name</th>
            <th style="width: 90px">Price</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>


<script type="text/javascript">
    
    let searchBtn = document.querySelector("#searchButton");

    searchBtn.addEventListener("click", function (ev) {

        let searchQuery = $.trim($("#txtPieName").val());
        $("#tblPies tbody").html("");

        let ajaxConfig = {
            url: "/api/Search",
            type: "POST",
            data: '"' + searchQuery + '"',
            contentType:"application/json",
            dataType:"json"
        };
        
        $.ajax(ajaxConfig)
            .done(pies => {
                $.each(pies, function (i, pie) {
                    $("tbody").append($("<tr>"));
                    appendElement = $("tbody tr").last();
                    appendElement.append($("<td>").html('<img style="width:200px; height:100px" src=' + pie.imageThumbnailUrl + '>'));
                    appendElement.append($("<td>").html('<a href="/pie/details/' + pie.pieId + '">' + pie.name + '</a>'));
                    appendElement.append($("<td>").html(pie.price));
                });
            })
            
            .fail(error => {
                console.log(error);
            })
    });


</script>